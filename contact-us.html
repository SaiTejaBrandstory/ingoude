<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - Ingoude Technologies</title>
    <meta name="description" content="Get in touch with Ingoude Technologies. Contact us for inquiries, support, or to schedule a demo of our insurance technology solutions.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="public/ingoude-technologies-logo.svg">
    <link rel="shortcut icon" href="public/ingoude-technologies-logo.svg">
    <link rel="apple-touch-icon" href="public/ingoude-technologies-logo.svg">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Google Fonts - Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="services.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <!-- Logo -->
            <div class="logo-container">
                <a href="index.html" class="logo-link">
                    <img src="public/ingoude-technologies-logo.svg" alt="Ingoude Technologies Logo" class="logo">
                </a>
            </div>

            <!-- Desktop Navigation Menu -->
            <nav class="desktop-nav">
                <div class="nav-dropdown">
                    <a href="services.html" class="nav-link nav-dropdown-toggle">Services <i class="fa-solid fa-chevron-down" style="font-size: 12px;"></i></a>
                    <div class="nav-dropdown-menu">
                        <a href="banking-services.html" class="nav-dropdown-item">Banking</a>
                        <a href="financial-services.html" class="nav-dropdown-item">Financial</a>
                        <a href="insurance-services.html" class="nav-dropdown-item">Insurance</a>
                    </div>
                </div>
                <div class="nav-dropdown">
                    <span class="nav-link nav-dropdown-toggle" style="cursor: pointer;">Products <i class="fa-solid fa-chevron-down" style="font-size: 12px;"></i></span>
                    <div class="nav-dropdown-menu">
                        <a href="conversalq.html" class="nav-dropdown-item">ConversaIQ</a>
                    </div>
                </div>
                <span class="nav-link">Resources</span>
                <a href="contact-us.html" class="nav-link">Contact Us</a>
            </nav>

            <!-- Right side - Login and CTA -->
            <div class="header-buttons">
                <button class="login-btn">Login</button>
                <button class="demo-btn">Book a Demo</button>
            </div>

            <!-- Mobile Menu Button -->
            <button class="mobile-menu-btn" aria-label="Toggle mobile menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </div>

        <!-- Mobile Navigation Menu -->
        <div class="mobile-nav">
            <nav class="mobile-nav-content">
                <details class="mobile-dropdown">
                    <summary class="mobile-nav-link mobile-services-summary">
                        <a href="services.html" class="mobile-services-link">Services</a>
                        <button type="button" class="mobile-caret-btn" aria-label="Toggle Services submenu">
                            <i class="fa-solid fa-chevron-down mobile-caret"></i>
                        </button>
                    </summary>
                    <div class="mobile-submenu">
                        <a href="banking-services.html" class="mobile-submenu-link">Banking</a>
                        <a href="financial-services.html" class="mobile-submenu-link">Financial</a>
                        <a href="insurance-services.html" class="mobile-submenu-link">Insurance</a>
                    </div>
                </details>
                <details class="mobile-dropdown">
                    <summary class="mobile-nav-link mobile-services-summary">
                        <span class="mobile-services-link">Products</span>
                        <button type="button" class="mobile-caret-btn" aria-label="Toggle Products submenu">
                            <i class="fa-solid fa-chevron-down mobile-caret"></i>
                        </button>
                    </summary>
                    <div class="mobile-submenu">
                        <a href="conversalq.html" class="mobile-submenu-link">ConversaIQ</a>
                    </div>
                </details>
                <span class="mobile-nav-link">Resources</span>
                <a href="contact-us.html" class="mobile-nav-link">Contact Us</a>
                
                <!-- Mobile Login and CTA -->
                <div class="mobile-nav-buttons">
                    <a href="#" class="mobile-login-btn">Login</a>
                    <a href="#" class="mobile-demo-btn">Book a Demo</a>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero Section -->
        <section class="hero services-hero">
            <!-- Background Image Container -->
            <div class="contact-us-hero-bg-container"></div>

            <!-- Content Container - Centered -->
            <div class="hero-content">
                <div class="hero-content-container" style="display: flex; justify-content: center; align-items: center;">
                    <div class="hero-text-container services-hero-text-container" style="text-align: center; margin: 0 auto; max-width: 100%;">
                        <!-- Main Headline -->
                        <h1 class="hero-title services-hero-title" style="text-align: center;">
                            Get in <span class="bfsi-accent">Touch</span>
                        </h1>

                        <!-- Description -->
                        <p class="hero-description services-hero-description" style="text-align: center; margin: 0 auto;">
                            Ready to transform your brokerage? Our team is here to help you get started with Ingoude's powerful platform.
                        </p>

                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Form Section -->
        <section class="services">
            <div class="services-container">
                <div class="contact-form-container">
                    <h2 class="contact-form-title">Send us a Message</h2>
                    <p class="contact-form-subtitle">Fill out the form below and we'll get back to you</p>
                    
                    <form class="contact-form" id="contactForm" autocomplete="off" method="POST" action="javascript:void(0);" onsubmit="event.preventDefault(); return false;">
                        <!-- Honeypot field for spam protection -->
                        <input type="text" name="website" style="display: none;" tabindex="-1" autocomplete="off">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="firstName" class="form-label">First Name <span class="required">*</span></label>
                                <input type="text" id="firstName" name="firstName" class="form-input" placeholder="Enter your first name" autocomplete="given-name" pattern="[\p{L}\s]+" title="First name should only contain letters and spaces" required>
                                <span class="field-error" id="firstName-error"></span>
                            </div>
                            
                            <div class="form-group">
                                <label for="lastName" class="form-label">Last Name <span class="required">*</span></label>
                                <input type="text" id="lastName" name="lastName" class="form-input" placeholder="Enter your last name" autocomplete="family-name" pattern="[\p{L}\s]+" title="Last name should only contain letters and spaces" required>
                                <span class="field-error" id="lastName-error"></span>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="email" class="form-label">Email Address <span class="required">*</span></label>
                                <input type="email" id="email" name="email" class="form-input" placeholder="Enter your email address" autocomplete="email" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" title="Please enter a valid email address (e.g., name@example.com)" required>
                                <span class="field-error" id="email-error"></span>
                            </div>
                            
                            <div class="form-group">
                                <label for="phone" class="form-label">Phone Number</label>
                                <input type="tel" id="phone" name="phone" class="form-input" placeholder="+971 50 123 4567" autocomplete="tel" pattern="(\+971|971|0)?[0-9\s\-\(\)]{7,12}" title="Please enter a valid UAE phone number (e.g., +971 50 123 4567 or 050 123 4567)">
                                <span class="field-error" id="phone-error"></span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="company" class="form-label">Company Name</label>
                            <input type="text" id="company" name="company" class="form-input" placeholder="Enter your company name" autocomplete="organization">
                            <span class="field-error" id="company-error"></span>
                        </div>

                        <div class="form-group">
                            <label for="helpType" class="form-label">How can we help you? <span class="required">*</span></label>
                            <select id="helpType" name="helpType" class="form-select" required>
                                <option value="">Select an option</option>
                                <option value="demo">Request a Demo</option>
                                <option value="support">Technical Support</option>
                                <option value="sales">Sales Inquiry</option>
                                <option value="partnership">Partnership</option>
                                <option value="other">Other</option>
                            </select>
                            <span class="field-error" id="helpType-error"></span>
                        </div>

                        <div class="form-group">
                            <label for="message" class="form-label">Message <span class="required">*</span></label>
                            <textarea id="message" name="message" class="form-textarea" rows="6" placeholder="Tell us more about your requirements..." required></textarea>
                            <span class="field-error" id="message-error"></span>
                        </div>

                        <div class="form-message" id="formMessage" style="display: none;"></div>
                        <button type="submit" class="form-submit-btn">
                            Send Message
                            <i class="fa-solid fa-paper-plane"></i>
                        </button>
                    </form>
                    
                    <!-- Inline script to handle form submission -->
                    <script>
                        (function() {
                            // Wait for DOM to be fully ready
                            if (document.readyState === 'loading') {
                                document.addEventListener('DOMContentLoaded', initForm);
                            } else {
                                initForm();
                            }
                            
                            function initForm() {
                                var form = document.getElementById('contactForm');
                                if (!form) {
                                    console.error('Form not found!');
                                    return;
                                }
                                
                                console.log('Form found, attaching handler...');
                                
                                // Add submit handler directly (no need to clone)
                                form.addEventListener('submit', handleSubmit, false);
                                
                                // Also add click handler to button as backup
                                var submitButton = form.querySelector('button[type="submit"]');
                                if (submitButton) {
                                    submitButton.addEventListener('click', function(e) {
                                        console.log('Button clicked');
                                        // Let the form submit event handle it
                                    }, false);
                                }
                                
                                // Add real-time validation - clear errors when user types
                                var formInputs = form.querySelectorAll('.form-input, .form-select, .form-textarea');
                                formInputs.forEach(function(input) {
                                    input.addEventListener('input', function() {
                                        var fieldName = this.id;
                                        var errorSpan = document.getElementById(fieldName + '-error');
                                        if (errorSpan) {
                                            errorSpan.textContent = '';
                                            errorSpan.style.display = 'none';
                                        }
                                        this.classList.remove('input-error');
                                    });
                                    
                                    input.addEventListener('change', function() {
                                        var fieldName = this.id;
                                        var errorSpan = document.getElementById(fieldName + '-error');
                                        if (errorSpan) {
                                            errorSpan.textContent = '';
                                            errorSpan.style.display = 'none';
                                        }
                                        this.classList.remove('input-error');
                                    });
                                });
                                
                                function handleSubmit(e) {
                                    e.preventDefault();
                                    e.stopPropagation();
                                    e.stopImmediatePropagation();
                                    
                                    // Check if form is already being submitted (prevent duplicate submissions)
                                    if (form.dataset.submitting === 'true') {
                                        console.log('Form is already being submitted, ignoring duplicate submission');
                                        return false;
                                    }
                                    
                                    // Mark form as submitting
                                    form.dataset.submitting = 'true';
                                    console.log('Form submit event triggered!');
                                    
                                    // Get form data
                                    var formData = new FormData(form);
                                    var submitBtn = form.querySelector('button[type="submit"]');
                                    if (!submitBtn) {
                                        console.error('Submit button not found');
                                        return false;
                                    }
                                    
                                    var originalButtonText = submitBtn.innerHTML;
                                    
                                    // Show loading state - make button clearly disabled
                                    submitBtn.disabled = true;
                                    submitBtn.setAttribute('disabled', 'disabled');
                                    submitBtn.style.cursor = 'not-allowed';
                                    submitBtn.style.opacity = '0.5';
                                    submitBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Sending...';
                                    console.log('Sending form data...');
                                    
                                    // Get message container
                                    var messageContainer = document.getElementById('formMessage') || form.querySelector('.form-message');
                                    if (!messageContainer) {
                                        messageContainer = document.createElement('div');
                                        messageContainer.className = 'form-message';
                                        messageContainer.id = 'formMessage';
                                        submitBtn.parentElement.insertBefore(messageContainer, submitBtn);
                                    }
                                    messageContainer.style.display = 'none';
                                    messageContainer.dataset.successShown = 'false'; // Reset flag on new submission attempt
                                    messageContainer.innerHTML = ''; // Clear previous content
                                    
                                    // Send form data
                                    fetch('send-email.php', {
                                        method: 'POST',
                                        body: formData
                                    })
                                    .then(function(response) {
                                        console.log('Response received:', response.status);
                                        return response.json();
                                    })
                                    .then(function(data) {
                                        console.log('Response data:', data);
                                        console.log('Has fieldErrors?', !!data.fieldErrors);
                                        console.log('fieldErrors content:', data.fieldErrors);
                                        if (data.success) {
                                            // Check if success message was already shown (prevent duplicate displays)
                                            if (messageContainer.dataset.successShown === 'true') {
                                                return; // Don't show success message again
                                            }
                                            
                                            // Mark that success message has been shown
                                            messageContainer.dataset.successShown = 'true';
                                            
                                            // Show success message with centered wrapper
                                            messageContainer.className = 'form-message form-message-success';
                                            messageContainer.innerHTML = '<div style="text-align: center; width: 100%; display: flex; justify-content: center; align-items: center;"><span style="display: inline-block; background-color: #cce8cc; color: #000000; padding: 12px 20px; border-radius: 8px; font-size: 16px; font-weight: 500; text-align: center;"><i class="fa-solid fa-check-circle"></i> ' + data.message + '</span></div>';
                                            
                                            // Set container styles for centering
                                            messageContainer.style.display = 'block';
                                            messageContainer.style.width = '100%';
                                            messageContainer.style.textAlign = 'center';
                                            messageContainer.style.opacity = '1';
                                            messageContainer.style.transition = 'opacity 0.5s ease-out';
                                            
                                            // Clear all field errors on success
                                            var allErrorSpans = form.querySelectorAll('.field-error');
                                            allErrorSpans.forEach(function(span) {
                                                span.textContent = '';
                                                span.style.display = 'none';
                                            });
                                            
                                            // Remove error classes from inputs
                                            var allInputs = form.querySelectorAll('.form-input, .form-select, .form-textarea');
                                            allInputs.forEach(function(input) {
                                                input.classList.remove('input-error');
                                            });
                                            
                                            // Reset form
                                            form.reset();
                                            
                                            // Scroll to message to ensure it's visible
                                            setTimeout(function() {
                                                messageContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
                                            }, 100);
                                            
                                            // Fade out message after 4 seconds
                                            setTimeout(function() {
                                                messageContainer.style.opacity = '0';
                                                setTimeout(function() {
                                                    messageContainer.style.display = 'none';
                                                    // Reset the flag after message is hidden so it can show again on next successful submission
                                                    messageContainer.dataset.successShown = 'false';
                                                }, 500); // Wait for fade-out transition to complete
                                            }, 4000);
                                        } else {
                                            // Clear all previous field errors
                                            var allErrorSpans = form.querySelectorAll('.field-error');
                                            allErrorSpans.forEach(function(span) {
                                                span.textContent = '';
                                                span.style.display = 'none';
                                                span.classList.remove('show');
                                            });
                                            
                                            // Remove error classes from inputs
                                            var allInputs = form.querySelectorAll('.form-input, .form-select, .form-textarea');
                                            allInputs.forEach(function(input) {
                                                input.classList.remove('input-error');
                                            });
                                            
                                            // Show field-specific errors if available
                                            if (data.fieldErrors && Object.keys(data.fieldErrors).length > 0) {
                                                console.log('Processing field errors:', data.fieldErrors);
                                                // Hide general message container
                                                messageContainer.style.display = 'none';
                                                
                                                // Show errors below each field
                                                for (var fieldName in data.fieldErrors) {
                                                    console.log('Processing field:', fieldName, 'Error:', data.fieldErrors[fieldName]);
                                                    var errorSpan = document.getElementById(fieldName + '-error');
                                                    var inputField = document.getElementById(fieldName);
                                                    
                                                    console.log('Error span found:', errorSpan, 'Input field found:', inputField);
                                                    
                                                    if (errorSpan && inputField) {
                                                        errorSpan.textContent = data.fieldErrors[fieldName];
                                                        errorSpan.style.setProperty('display', 'block', 'important');
                                                        errorSpan.style.setProperty('visibility', 'visible', 'important');
                                                        errorSpan.style.setProperty('color', '#EF4444', 'important');
                                                        errorSpan.style.setProperty('font-size', '14px', 'important');
                                                        errorSpan.style.setProperty('margin-top', '6px', 'important');
                                                        errorSpan.style.setProperty('line-height', '1.4', 'important');
                                                        errorSpan.style.setProperty('opacity', '1', 'important');
                                                        errorSpan.classList.add('show');
                                                        inputField.classList.add('input-error');
                                                        console.log('Error displayed for:', fieldName, 'Text:', data.fieldErrors[fieldName]);
                                                    } else {
                                                        console.error('Could not find error span or input for:', fieldName);
                                                        // Try to find within form as fallback
                                                        if (!errorSpan) {
                                                            errorSpan = form.querySelector('#' + fieldName + '-error');
                                                            console.log('Found error span in form:', errorSpan);
                                                        }
                                                        if (!inputField) {
                                                            inputField = form.querySelector('#' + fieldName);
                                                            console.log('Found input in form:', inputField);
                                                        }
                                                        if (errorSpan && inputField) {
                                                            errorSpan.textContent = data.fieldErrors[fieldName];
                                                            errorSpan.style.setProperty('display', 'block', 'important');
                                                            errorSpan.style.setProperty('visibility', 'visible', 'important');
                                                            errorSpan.style.setProperty('color', '#EF4444', 'important');
                                                            errorSpan.style.setProperty('font-size', '14px', 'important');
                                                            errorSpan.style.setProperty('margin-top', '6px', 'important');
                                                            errorSpan.style.setProperty('line-height', '1.4', 'important');
                                                            errorSpan.style.setProperty('opacity', '1', 'important');
                                                            errorSpan.classList.add('show');
                                                            inputField.classList.add('input-error');
                                                            console.log('Error displayed for:', fieldName, '(found via fallback)');
                                                        }
                                                    }
                                                }
                                                
                                                // Scroll to first error field
                                                var firstError = form.querySelector('.input-error');
                                                if (firstError) {
                                                    setTimeout(function() {
                                                        firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                                                        firstError.focus();
                                                    }, 100);
                                                }
                                            } else {
                                                console.log('No fieldErrors found, showing general error message');
                                                // Show general error message only if no field errors
                                                messageContainer.className = 'form-message form-message-error';
                                                var errorMsg = data.message || 'An error occurred. Please try again.';
                                                if (data.errors && data.errors.length > 0) {
                                                    errorMsg += '<ul style="margin: 10px 0 0 20px; text-align: left;">';
                                                    data.errors.forEach(function(error) {
                                                        errorMsg += '<li>' + error + '</li>';
                                                    });
                                                    errorMsg += '</ul>';
                                                }
                                                messageContainer.innerHTML = '<i class="fa-solid fa-exclamation-circle"></i> ' + errorMsg;
                                                messageContainer.style.display = 'block';
                                                messageContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
                                            }
                                        }
                                    })
                                    .catch(function(error) {
                                        console.error('Fetch error:', error);
                                        messageContainer.className = 'form-message form-message-error';
                                        messageContainer.innerHTML = '<i class="fa-solid fa-exclamation-circle"></i> Network error. Please check your connection and try again.';
                                        messageContainer.style.display = 'block';
                                        messageContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
                                    })
                                    .finally(function() {
                                        // Re-enable submit button and reset submitting flag
                                        submitBtn.disabled = false;
                                        submitBtn.removeAttribute('disabled');
                                        submitBtn.style.cursor = 'pointer';
                                        submitBtn.style.opacity = '1';
                                        submitBtn.innerHTML = originalButtonText;
                                        form.dataset.submitting = 'false'; // Allow new submissions
                                    });
                                    
                                    return false;
                                }
                                
                                console.log('Form handler attached successfully');
                            }
                        })();
                    </script>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <!-- Main Footer Content -->
            <div class="footer-content">
                
                <!-- Column 1 - Company Information -->
                <div class="footer-column">
                    <!-- Logo -->
                    <div class="footer-logo-container">
                        <a href="index.html" class="footer-logo-link">
                            <img src="public/footer-logo.svg" alt="Ingoude Technologies Logo" class="footer-logo">
                        </a>
                    </div>
                    
                    <!-- Description -->
                    <p class="footer-description">
                        Empowering insurance brokers with API-driven technology to quote faster and sell more.
                    </p>
                    
                    <!-- Social Media Icons -->
                    <div class="footer-social">
                        <i class="fa-brands fa-linkedin footer-social-icon"></i>
                        <i class="fa-brands fa-square-x-twitter footer-social-icon"></i>
                        <i class="fa-brands fa-square-facebook footer-social-icon"></i>
                    </div>
                </div>

                <!-- Column 2 - Quick Links -->
                <div class="footer-column">
                    <h3 class="footer-column-title">Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html" class="footer-link">Home</a></li>
                        <li><a href="index.html" class="footer-link">Products</a></li>
                        <li><a href="index.html" class="footer-link">Resources</a></li>
                        <li><a href="contact-us.html" class="footer-link">Contact Us</a></li>
                    </ul>
                </div>

                <!-- Column 3 - Contact -->
                <div class="footer-column">
                    <h3 class="footer-column-title">Contact</h3>
                    <div class="footer-contact">
                        <div class="contact-item">
                            <i class="fa-solid fa-envelope contact-icon"></i>
                            <span class="contact-text">hello@ingoude.com</span>
                        </div>
                        <div class="contact-item">
                            <i class="fa-solid fa-phone contact-icon"></i>
                            <span class="contact-text">+971 50 123 4567</span>
                        </div>
                    </div>
                </div>

                <!-- Column 4 - Address -->
                <div class="footer-column">
                    <h3 class="footer-column-title">Address</h3>
                    <p class="footer-address">
                        Office 1205, Business Bay,<br>
                        Dubai, UAE
                    </p>
                </div>
            </div>

            <!-- Copyright Section -->
            <div class="footer-copyright">
                <div class="copyright-content">
                    <p class="copyright-text">
                        © 2025 Ingoude Technologies. All rights reserved.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Check if script.js loaded
        console.log('Page loaded, checking script.js...');
    </script>
    <script src="script.js"></script>
    <script>
        // Verify script loaded
        if (typeof handleContactFormSubmission === 'function') {
            console.log('✓ handleContactFormSubmission function is available');
        } else {
            console.error('✗ handleContactFormSubmission function NOT found - script.js may not have loaded');
        }
    </script>
</body>
</html>

